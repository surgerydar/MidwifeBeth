.listviewheader#listview-header
    .listviewheadergroup
        img#button-back.imagebutton( data-method= 'get' data-url= '/users' src= '/images/icons/arrow-previous-01.png' )
    div( style= 'flex-grow:1; flex-shrink:1; width: 16px;' )
    .listviewheadergroup
        h3 New User
form#user-form( action='/users' method='post' enctype='application/x-www-form-urlencoded' )
    .form-content
        if error
            h3#register-error( style='color: red' ) #{error}
        .form-item
            label.form-item( for='username' ) Username #[img.form-item(src='/images/icons/user.png')]
            input.form-item#username( type='text' name='username' placeholder='enter username' required minlength="6" )
        .form-item
            label.form-item( for='email' ) Email #[img.form-item(src='/images/icons/email.png')]
            input.form-item#email( type='email' name='email' placeholder='enter email' required )
        .form-item
            label.form-item( for='password' ) Password #[img.form-item(src='/images/icons/password.png')]
            input.form-item#password( type='password' name='password' placeholder='enter password'  required minlength="6" )
        .form-item
            label.form-item( for='confirmpassword' ) Confirm Password #[img.form-item(src='/images/icons/password.png')]
            input.form-item#confirm-password( type='password' name='confirmpassword' placeholder='confirm password'  required minlength="6" )
        div( style="display: flex; flex-direction: row; justify-content: space-between;")
            input.form-item( type='submit' value='Save' )      
script.
    //
    // form validation
    //
    var email = document.querySelector('#email');
    email.addEventListener('input', function(e) {
        if (email.validity.typeMismatch) {
            email.setCustomValidity('valid email required');
        } else {
            email.setCustomValidity('');
        }
    });
    var password = document.querySelector('#password');
    var confimPassword = document.querySelector('#confirm-password');
    confimPassword.addEventListener('input', function(e) {
        if ( password.value !== confimPassword.value ) {
            confimPassword.setCustomValidity('passwords must match');
        } else {
            confimPassword.setCustomValidity('');
        }
    });
